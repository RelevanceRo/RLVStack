name: ASPNETCoreCI
on:
  push:
    branches:
      - 'dev*'
      - main
      - 'changes*'
jobs:
  ubuntu-latest:
    name: ubuntu-latest
    runs-on: ubuntu-latest
    permissions:
      packages: write   # âœ… only allow writing to GitHub Packages
      contents: read  
    steps:
      - uses: actions/checkout@v1
      - name: Setup .NET 9 SDK
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '9.0.x'
      - name: dotnet run --project ./build/_build.csproj
        run: |
          dotnet run --project ./build/_build.csproj
        env:
          # Ensure these are set as GitHub repository secrets
          PAT: ${{ secrets.GITHUB_TOKEN }}
          DeploymentWebhookUrl: ${{ secrets.DeploymentWebhookUrl }}
