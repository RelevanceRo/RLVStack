@using Krafter.Api.Client.Models
@using Krafter.UI.Web.Client.Features.Tenants
<RadzenTemplateForm Data="@CreateRequest" Submit="@((CreateOrUpdateTenantRequestInput __) => Submit(__))">

    <FluentValidationValidator Options="@(options => options.IncludeAllRuleSets())"/>
    <RadzenStack>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="2">
                <RadzenLabel Text="Name" Component="Name" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="10">
                <RadzenTextBox Style="width: 100%" @bind-Value="@CreateRequest.Name" Name="Name" />
            </RadzenColumn>
            <ValidationMessage style="font-size: 13px" For="@(() => CreateRequest.Name)" />
        </RadzenRow>


        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="2">
                <RadzenLabel Text="Identifier" Component="Identifier" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="10">
                <RadzenTextBox Style="width: 100%" @bind-Value="@CreateRequest.Identifier" Name="Identifier" />
            </RadzenColumn>
            <ValidationMessage style="font-size: 13px" For="@(() => CreateRequest.Identifier)" />
        </RadzenRow>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="2">
                <RadzenLabel Text="Admin Email" Component="AdminEmail" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="10">
                <RadzenTextBox Style="width: 100%" @bind-Value="@CreateRequest.AdminEmail" Name="AdminEmail" />
            </RadzenColumn>
            <ValidationMessage style="font-size: 13px" For="@(() => CreateRequest.AdminEmail)" />
        </RadzenRow>
        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="2">
                <RadzenLabel Text="ValidUpto" Component="ValidUpto" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="10">             
                <RadzenDatePicker Name="ValidUpto" Style="width: 100%" @bind-Value="@CreateRequest.ValidUpto" />
            </RadzenColumn>
            <ValidationMessage style="font-size: 13px" For="@(() => CreateRequest.ValidUpto)" />
        </RadzenRow>
        
        @if (string.IsNullOrWhiteSpace(CreateRequest.Id))
        {
            <RadzenRow AlignItems="AlignItems.Center">
                <RadzenColumn Size="12" SizeMD="2">
                    <RadzenLabel Text="Tables To Copy List" Component="TablesToCopyList" />
                </RadzenColumn>
                <RadzenColumn Size="12" SizeMD="10">
                    <RadzenDropDown @bind-Value="@SelectedTables" TValue="List<string>" Data=@TablesToCopyList TextProperty="DisplayName" ValueProperty="Name" Name="TablesToCopyList"
                                    Multiple=true AllowClear=true Placeholder="Select Tables" Chips=true Style="width: 100%; max-width: 400px;" />
                </RadzenColumn>             
            </RadzenRow>         
        }
        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="2">
                <RadzenLabel Text="Is Active" Component="IsActive" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="10">
                <RadzenCheckBox @bind-Value=@CreateRequest.IsActive Name="IsActive" />
            </RadzenColumn>
            <ValidationMessage style="font-size: 13px" For="@(() => CreateRequest.IsActive)" />
        </RadzenRow>     
    </RadzenStack>
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" Class="rz-mt-8 rz-mb-4">
        <RadzenButton ButtonType="ButtonType.Submit" IsBusy="isBusy" Size="ButtonSize.Medium" Icon="save" Text="Save"/>
        <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Medium" Icon="cancel" Text="Cancel" Click="@Cancel"/>
    </RadzenStack>
</RadzenTemplateForm>