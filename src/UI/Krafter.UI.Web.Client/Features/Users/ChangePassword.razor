@page "/account/change-password"
@using Krafter.Api.Client.Models
@using Krafter.UI.Web.Client.Features.Users
@using Krafter.UI.Web.Client.Features.Users
<RadzenRow Gap="10" JustifyContent="JustifyContent.SpaceAround">
    <RadzenColumn Size="12" SizeMD="6" >
        <RadzenCard >
            <RadzenText TextAlign="TextAlign.Center" TextStyle="TextStyle.H5" TagName="TagName.H2">
                Change Password
            </RadzenText>
            <RadzenTemplateForm Data="@ChangePasswordRequest" Submit="@((ChangePasswordRequest __) => SubmitChangePassword(__))">
                <FluentValidationValidator Options="@(options => options.IncludeAllRuleSets())"/>
                <RadzenStack Gap="4">


                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12" SizeMD="2">
                            <RadzenLabel Text="old Password" Component="Password"/>
                        </RadzenColumn>
                        <RadzenColumn Size="12" SizeMD="10">
                            <RadzenPassword Style="width: 100%" @bind-Value="@ChangePasswordRequest.Password" Name="Password"/>
                        </RadzenColumn>
                        <ValidationMessage style="font-size: 13px" For="@(() => ChangePasswordRequest.Password)"/>
                    </RadzenRow>


                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12" SizeMD="2">
                            <RadzenLabel Text="New Password" Component="NewPassword"/>
                        </RadzenColumn>
                        <RadzenColumn Size="12" SizeMD="10">
                            <RadzenPassword Style="width: 100%" @bind-Value="@ChangePasswordRequest.NewPassword" Name="NewPassword"/>
                        </RadzenColumn>
                        <ValidationMessage style="font-size: 13px" For="@(() => ChangePasswordRequest.NewPassword)"/>
                    </RadzenRow>

                    <RadzenRow AlignItems="AlignItems.Center">
                        <RadzenColumn Size="12" SizeMD="2">
                            <RadzenLabel Text="Confirm Password" Component="ConfirmNewPassword"/>
                        </RadzenColumn>
                        <RadzenColumn Size="12" SizeMD="10">
                            <RadzenPassword Style="width: 100%" @bind-Value="@ChangePasswordRequest.ConfirmNewPassword" Name="ConfirmNewPassword"/>
                        </RadzenColumn>
                        <ValidationMessage style="font-size: 13px" For="@(() => ChangePasswordRequest.ConfirmNewPassword)"/>
                    </RadzenRow>

                </RadzenStack>
                <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Right" Gap="1rem" Class="rz-mt-8 rz-mb-4">
                    <RadzenButton ButtonType="ButtonType.Submit" IsBusy="IsBusy" Size="ButtonSize.Medium" Icon="password" Text="Change "/>
                </RadzenStack>
            </RadzenTemplateForm>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>